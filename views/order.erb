<div class="container" id="orderApp" ng-controller="orderCtrl as ctrl">
    <div class="row">
        <div class="col-lg-12 text-center">
            <h2 class="section-heading">Order</h2>
        </div>
    </div>
    <div class="row">
        <div
          ng-repeat="recipe in ctrl.recipes"
          class="col-md-4 col-sm-6 portfolio-item">
            <a href="#thai" class="portfolio-link" data-toggle="modal">
                <div class="portfolio-hover">
                    <div class="portfolio-hover-content">
                        <i class="fa fa-eye fa-3x"></i>
                    </div>
                </div>
                <img ng-src="{{ recipe.image_url }}" class="img-responsive" alt="">
            </a>
            <div class="portfolio-caption">
                <div class="row" style="height: 3em;">
                  <span class="pull-left"><strong>{{ recipe.name }}</strong></span>
                </div>
                <div class="row"></div>
                  <select
                    ng-init="serving=recipe.serving_options[0]"
                    ng-model="serving"
                    ng-options="option as option.servings + ' servings for $' + option.dollars for option in recipe.serving_options"></select>
                  <button class="pull-right cart"><span style="margin-right: .25em;" class="fa fa-shopping-cart"></span>Add to cart</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="/js/services.js"></script>
<script type="text/javascript">
  angular.module('orderApp', ['services'])
  .controller('orderCtrl', function($http, $timeout, recipes) {
    var ctrl = this;

    recipes.get().then(function(all_recipes) {
      ctrl.recipes = all_recipes;
    });
  })

  angular.bootstrap(angular.element(document.getElementById('orderApp')), ['orderApp'])
</script>